import{u as rt,a as ie,j as e,C as yt,P as _e,B as a,b as ue,G as u,c as ft,T as s,N as bt,d as le,E as vt,e as St,f as Dt,S as wt,g as X,h as B,i as Tt,k as re,l as H,m as st,n as se,o as Ct,F as Mt,p as Et,_ as It,q as At,r as it,L as xe,A as Pe,s as Y,I as V,t as G,M as b,v as R,w as at,x as ot,y as Ft,z as ct,D as lt,H as Wt,J as _t,K as Lt,O as ke,Q as T,R as Pt,U as $,V as dt,W as Ot,X as ht,Y as xt,Z as ut,$ as F,a0 as Bt,a1 as mt,a2 as Z,a3 as kt,a4 as zt,a5 as ze,a6 as Ne,a7 as Re,a8 as He,a9 as Nt,aa as Rt,ab as Ht,ac as pt,ad as te,ae as $t,af as fe,ag as ne,ah as Yt,ai as Vt,aj as Gt,ak as Ut,al as qt,am as Jt,an as $e,ao as Ce,ap as Qt,aq as Kt,ar as Ye,as as Ve,at as Xt,au as Zt,av as de,aw as en}from"./mui-CNJF2yTc.js";import{c as tn,r as h,a as Oe}from"./vendor-DFrXMbSk.js";(function(){const p=document.createElement("link").relList;if(p&&p.supports&&p.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&t(d)}).observe(document,{childList:!0,subtree:!0});function j(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(n){if(n.ep)return;n.ep=!0;const r=j(n);fetch(n.href,r)}})();var Le={},Ge=tn;Le.createRoot=Ge.createRoot,Le.hydrateRoot=Ge.hydrateRoot;const nn=[{id:"estimate",title:"è¦‹ç©æ›¸ä½œæˆ",subtitle:"ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰å½¢å¼ã§ç°¡å˜ä½œæˆ",icon:vt,color:"#4CAF50",route:"/estimate",description:"é€ åœ’å·¥äº‹ã®è¦‹ç©æ›¸ã‚’4ã‚¹ãƒ†ãƒƒãƒ—ã§ç°¡å˜ä½œæˆ",features:["4ã‚¹ãƒ†ãƒƒãƒ—ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰","ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é‡‘é¡è¨ˆç®—","é€ åœ’æ¥­ç•Œæ¨™æº–ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ","PDFå‡ºåŠ›ãƒ»å°åˆ·","ä»•å…¥é¡ãƒ»æ›ã‘ç‡ãƒ»èª¿æ•´é¡å¯¾å¿œ"],isNew:!0},{id:"price-master",title:"å˜ä¾¡ãƒã‚¹ã‚¿ãƒ¼",subtitle:"æ¤æ ½ãƒ»å¤–æ§‹ãƒ»å·¥äº‹å˜ä¾¡ç®¡ç†",icon:St,color:"#FF9800",route:"/price-master",description:"é€ åœ’å·¥äº‹ã®å˜ä¾¡ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†",features:["ã‚«ãƒ†ã‚´ãƒªéšå±¤ç®¡ç†","æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½","ã‚¤ãƒ³ãƒãƒ¼ãƒˆ/ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ","ä¾¡æ ¼å¤‰å‹•å±¥æ­´","æ¥­ç•Œæ¨™æº–å˜ä¾¡é€£æº"]},{id:"project-history",title:"æ¡ˆä»¶å±¥æ­´",subtitle:"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ»å—æ³¨ç®¡ç†",icon:Dt,color:"#2196F3",route:"/project-history",description:"éå»ã®æ¡ˆä»¶ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå±¥æ­´ã‚’ç®¡ç†",features:["æ¡ˆä»¶æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼","ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†","é¡§å®¢æƒ…å ±é€£æº","å£²ä¸Šåˆ†æ","é€²æ—ç®¡ç†"],count:24},{id:"settings",title:"è¨­å®š",subtitle:"äº‹æ¥­è€…æƒ…å ±ãƒ»ã‚·ã‚¹ãƒ†ãƒ è¨­å®š",icon:wt,color:"#9C27B0",route:"/settings",description:"äº‹æ¥­è€…åŸºæœ¬æƒ…å ±ã¨ã‚·ã‚¹ãƒ†ãƒ è¨­å®š",features:["ä¼šç¤¾æƒ…å ±ç®¡ç†","ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»æ¨©é™ç®¡ç†","ãƒ­ã‚´ãƒ»å°ç« è¨­å®š","ã‚·ã‚¹ãƒ†ãƒ è¨­å®š","ãƒ‡ãƒ¼ã‚¿ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—"]},{id:"process-management",title:"å·¥ç¨‹ç®¡ç†",subtitle:"å·¥ç¨‹è¡¨ä½œæˆãƒ»é€²æ—ç®¡ç†",icon:X,color:"#607D8B",route:"/process-management",description:"é€ åœ’å·¥äº‹ã®å·¥ç¨‹è¡¨ä½œæˆãƒ»é€²æ—ç®¡ç†",features:["è‡ªå‹•å·¥ç¨‹è¡¨ç”Ÿæˆ","è¦–è¦šçš„ã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆ","å·¥ç¨‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ","é€²æ—ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°","ç¾å ´å†™çœŸè¨˜éŒ²"],isNew:!0}],Ue=({onMenuSelect:c,currentUser:p={name:"å±±ç”°å¤ªéƒ",role:"ä»£è¡¨å–ç· å½¹",company:"ç·‘é¢¨é€ åœ’æ ªå¼ä¼šç¤¾"}})=>{const j=rt(),t=ie(j.breakpoints.down("md")),n=ie("(max-width:375px)"),[r,d]=h.useState(null),x=o=>{o.comingSoon||(d(o.id),c(o.id,o.route))};return e.jsxs(yt,{maxWidth:"xl",sx:{py:t?2:4},children:[e.jsxs(_e,{elevation:2,sx:{background:`linear-gradient(135deg, ${j.palette.success.main} 0%, ${j.palette.success.dark} 100%)`,color:"white",p:t?2:4,mb:t?2:4,borderRadius:3,position:"relative",overflow:"hidden"},children:[e.jsx(a,{sx:{position:"absolute",top:-50,right:-50,width:200,height:200,opacity:.1,borderRadius:"50%",bgcolor:"white"}}),e.jsx(ue,{sx:{position:"absolute",top:20,right:20,fontSize:60,opacity:.2}}),e.jsxs(u,{container:!0,spacing:t?2:3,alignItems:"center",children:[e.jsxs(u,{item:!0,xs:12,md:8,children:[!t&&e.jsx(a,{sx:{mb:2},children:e.jsxs(ft,{separator:e.jsx(bt,{fontSize:"small",sx:{color:"white"}}),sx:{color:"white",mb:1},children:[e.jsx(s,{variant:"body2",sx:{color:"white",opacity:.8},children:"ãƒ›ãƒ¼ãƒ "}),e.jsx(s,{variant:"body2",sx:{color:"white"},children:"ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼"})]})}),e.jsx(s,{variant:t?n?"h5":"h4":"h3",fontWeight:"bold",gutterBottom:!0,children:"Garden é€ åœ’æ¥­å‹™ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ "}),e.jsxs(s,{variant:t?"body1":"h6",sx:{opacity:.9,mb:t?1:2},children:[p.company,t?"":` - ${p.name}æ§˜`]}),!n&&e.jsx(s,{variant:t?"body2":"body1",sx:{opacity:.8},children:"è¦‹ç©ä½œæˆã‹ã‚‰å·¥ç¨‹ç®¡ç†ã¾ã§ã€é€ åœ’äº‹æ¥­ã®ã™ã¹ã¦ã‚’ä¸€å…ƒç®¡ç†"})]}),e.jsx(u,{item:!0,xs:12,md:4,sx:{textAlign:"center"},children:e.jsxs(a,{sx:{bgcolor:le("white",.2),borderRadius:2,p:2,backdropFilter:"blur(10px)"},children:[e.jsx(s,{variant:"body2",sx:{opacity:.8},children:"ä»Šæ—¥ã®äºˆå®š"}),e.jsx(s,{variant:"h4",fontWeight:"bold",children:"3"}),e.jsx(s,{variant:"body2",sx:{opacity:.8},children:"ä»¶ã®æ¡ˆä»¶"})]})})]})]}),e.jsx(u,{container:!0,spacing:t?2:3,children:nn.map(o=>e.jsx(u,{item:!0,xs:12,sm:6,lg:t?12:4,children:e.jsx(B,{elevation:r===o.id?8:2,sx:{height:t?"auto":"100%",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",transform:r===o.id?"translateY(-4px)":"none",border:r===o.id?`2px solid ${o.color}`:"none","&:hover":{elevation:6,transform:t?"none":"translateY(-2px)","& .menu-icon":{transform:t?"none":"scale(1.1)",color:o.color}},opacity:o.comingSoon?.6:1,cursor:o.comingSoon?"not-allowed":"pointer"},children:e.jsx(Tt,{onClick:()=>x(o),disabled:o.comingSoon,sx:{height:"100%",p:0},children:e.jsxs(re,{sx:{p:t?2:3,height:"100%",display:"flex",flexDirection:t?"row":"column",alignItems:t?"center":"stretch"},children:[e.jsxs(a,{sx:{display:"flex",alignItems:t?"center":"flex-start",mb:t?0:2,width:"100%"},children:[e.jsx(a,{sx:{p:t?1:1.5,borderRadius:2,bgcolor:le(o.color,.1),mr:2,minWidth:"fit-content"},children:e.jsx(o.icon,{className:"menu-icon",sx:{fontSize:t?28:32,color:o.color,transition:"all 0.3s ease"}})}),e.jsxs(a,{sx:{flex:1},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",mb:t?0:.5,flexWrap:"wrap"},children:[e.jsx(s,{variant:t?"body1":"h6",fontWeight:"bold",sx:{mr:1},children:o.title}),o.isNew&&e.jsx(H,{label:"NEW",size:"small",color:"error",sx:{fontSize:"0.7rem",height:20}}),o.comingSoon&&e.jsx(H,{label:"æº–å‚™ä¸­",size:"small",color:"default",sx:{fontSize:"0.7rem",height:20}}),o.count&&e.jsx(st,{badgeContent:o.count,color:"primary",sx:{ml:1},children:e.jsx(a,{})})]}),!t&&e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:1},children:o.subtitle})]})]}),!t&&e.jsxs(e.Fragment,{children:[e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:2,flex:1},children:o.description}),e.jsxs(a,{children:[e.jsx(s,{variant:"caption",color:"text.secondary",fontWeight:"medium",sx:{mb:1,display:"block"},children:"ä¸»è¦æ©Ÿèƒ½:"}),e.jsxs(a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:[o.features.slice(0,3).map((v,g)=>e.jsx(H,{label:v,size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:24,borderColor:le(o.color,.3),color:o.color}},g)),o.features.length>3&&e.jsx(se,{title:e.jsx(a,{children:o.features.slice(3).map((v,g)=>e.jsxs(s,{variant:"caption",display:"block",children:["â€¢ ",v]},g))}),children:e.jsx(H,{label:`+${o.features.length-3}`,size:"small",variant:"outlined",sx:{fontSize:"0.7rem",height:24,borderColor:le(j.palette.text.secondary,.3)}})})]})]})]})]})})})},o.id))}),!t&&e.jsx(_e,{elevation:1,sx:{mt:4,p:3,bgcolor:le(j.palette.primary.main,.02),borderRadius:2},children:e.jsxs(u,{container:!0,spacing:3,children:[e.jsxs(u,{item:!0,xs:12,md:4,children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(Ct,{sx:{mr:1,color:"primary.main"}}),e.jsx(s,{variant:"body2",fontWeight:"medium",children:"ä»Šæœˆã®è¦‹ç©ä½œæˆ"})]}),e.jsx(s,{variant:"h4",color:"primary.main",fontWeight:"bold",children:"12ä»¶"})]}),e.jsxs(u,{item:!0,xs:12,md:4,children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(Mt,{sx:{mr:1,color:"success.main"}}),e.jsx(s,{variant:"body2",fontWeight:"medium",children:"é€²è¡Œä¸­ã®æ¡ˆä»¶"})]}),e.jsx(s,{variant:"h4",color:"success.main",fontWeight:"bold",children:"8ä»¶"})]}),e.jsxs(u,{item:!0,xs:12,md:4,children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(Et,{sx:{mr:1,color:"warning.main"}}),e.jsx(s,{variant:"body2",fontWeight:"medium",children:"ä»Šé€±ã®äºˆå®š"})]}),e.jsx(s,{variant:"h4",color:"warning.main",fontWeight:"bold",children:"15ä»¶"})]})]})})]})},rn=["localeText"],qe=h.createContext(null),sn=function(p){var j;const{localeText:t}=p,n=It(p,rn),{utils:r,localeText:d}=(j=h.useContext(qe))!=null?j:{utils:void 0,localeText:void 0},x=At({props:n,name:"MuiLocalizationProvider"}),{children:o,dateAdapter:v,dateFormats:g,dateLibInstance:A,adapterLocale:M,localeText:S}=x,W=h.useMemo(()=>it({},S,d,t),[S,d,t]),D=h.useMemo(()=>{if(!v)return r||null;const C=new v({locale:M,formats:g,instance:A});if(!C.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return C},[v,M,g,A,r]),P=h.useMemo(()=>D?{minDate:D.date("1900-01-01T00:00:00.000"),maxDate:D.date("2099-12-31T00:00:00.000")}:null,[D]),U=h.useMemo(()=>({utils:D,defaultDates:P,localeText:W}),[P,D,W]);return e.jsx(qe.Provider,{value:U,children:o})},Me={},an={},on={},cn={},ln={},Ee={},Je={},dn={},hn={},xn={},un={},mn={},pn={},gn={},jn={},yn={},fn={},Qe={},Ie={},Ae={},bn={},vn={},Sn={},Dn={},wn={},Tn={},Cn={},Mn={},En={},In={},Fe={},he={},An={},Fn={},Wn={},_n={},Ln={},Pn={},On={},Bn={},kn={},zn={},Nn={},Rn={},Hn={},$n={},Ke={},Xe={},Ze={},We={},ye={},Yn={},Vn={},Gn={},Un={},qn={},Jn={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Qn={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class Kn{constructor(p){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=Jn,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=r=>typeof r>"u"?new Date:r===null?null:new Date(r),this.dateWithTimezone=r=>this.date(r),this.getTimezone=()=>"default",this.setTimezone=r=>r,this.toJsDate=r=>r,this.getCurrentLocaleCode=()=>{var r;return((r=this.locale)==null?void 0:r.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>this.locale?/a/.test(this.locale.formatLong.time({width:"short"})):!0,this.expandFormat=r=>{const d=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return r.match(d).map(x=>{const o=x[0];if(o==="p"||o==="P"){const v=this.longFormatters[o];return v(x,this.locale.formatLong)}return x}).join("")},this.getFormatHelperText=r=>this.expandFormat(r).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=r=>r===null,this.formatNumber=r=>r,this.getMeridiemText=r=>r==="am"?"AM":"PM";const{locale:j,formats:t,longFormatters:n}=p;this.locale=j,this.formats=it({},Qn,t),this.longFormatters=n}}class Xn extends Kn{constructor({locale:p,formats:j}={}){if(typeof Me!="function")throw new Error(["MUI: The `date-fns` package v3.x is not compatible with this adapter.","Please, install v2.x of the package or use the `AdapterDateFnsV3` instead."].join(`
`));super({locale:p??Un,formats:j,longFormatters:qn}),this.parseISO=t=>Yn(t),this.toISO=t=>Vn(t,{format:"extended"}),this.parse=(t,n)=>t===""?null:On(t,n,new Date,{locale:this.locale}),this.isValid=t=>Pn(this.date(t)),this.format=(t,n)=>this.formatByString(t,this.formats[n]),this.formatByString=(t,n)=>bn(t,n,{locale:this.locale}),this.getDiff=(t,n,r)=>{switch(r){case"years":return dn(t,this.date(n));case"quarters":return hn(t,this.date(n));case"months":return xn(t,this.date(n));case"weeks":return un(t,this.date(n));case"days":return mn(t,this.date(n));case"hours":return pn(t,this.date(n));case"minutes":return gn(t,this.date(n));case"seconds":return jn(t,this.date(n));default:return yn(t,this.date(n))}},this.isEqual=(t,n)=>t===null&&n===null?!0:An(t,n),this.isSameYear=(t,n)=>Wn(t,n),this.isSameMonth=(t,n)=>_n(t,n),this.isSameDay=(t,n)=>Fn(t,n),this.isSameHour=(t,n)=>Ln(t,n),this.isAfter=(t,n)=>Fe(t,n),this.isAfterYear=(t,n)=>Fe(t,Ae(n)),this.isAfterDay=(t,n)=>Fe(t,Qe(n)),this.isBefore=(t,n)=>he(t,n),this.isBeforeYear=(t,n)=>he(t,ye(n)),this.isBeforeDay=(t,n)=>he(t,Ke(n)),this.isWithinRange=(t,[n,r])=>Gn(t,{start:n,end:r}),this.startOfYear=t=>ye(t),this.startOfMonth=t=>Xe(t),this.startOfWeek=t=>We(t,{locale:this.locale}),this.startOfDay=t=>Ke(t),this.endOfYear=t=>Ae(t),this.endOfMonth=t=>Ze(t),this.endOfWeek=t=>Ie(t,{locale:this.locale}),this.endOfDay=t=>Qe(t),this.addYears=(t,n)=>Je(t,n),this.addMonths=(t,n)=>Ee(t,n),this.addWeeks=(t,n)=>ln(t,n),this.addDays=(t,n)=>Me(t,n),this.addHours=(t,n)=>cn(t,n),this.addMinutes=(t,n)=>on(t,n),this.addSeconds=(t,n)=>an(t,n),this.getYear=t=>In(t),this.getMonth=t=>Tn(t),this.getDate=t=>vn(t),this.getHours=t=>Dn(t),this.getMinutes=t=>wn(t),this.getSeconds=t=>Cn(t),this.getMilliseconds=t=>Mn(t),this.setYear=(t,n)=>$n(t,n),this.setMonth=(t,n)=>Nn(t,n),this.setDate=(t,n)=>Bn(t,n),this.setHours=(t,n)=>kn(t,n),this.setMinutes=(t,n)=>zn(t,n),this.setSeconds=(t,n)=>Rn(t,n),this.setMilliseconds=(t,n)=>Hn(t,n),this.getDaysInMonth=t=>Sn(t),this.getNextMonth=t=>Ee(t,1),this.getPreviousMonth=t=>Ee(t,-1),this.getMonthArray=t=>{const r=[ye(t)];for(;r.length<12;){const d=r[r.length-1];r.push(this.getNextMonth(d))}return r},this.mergeDateAndTime=(t,n)=>this.setSeconds(this.setMinutes(this.setHours(t,this.getHours(n)),this.getMinutes(n)),this.getSeconds(n)),this.getWeekdays=()=>{const t=new Date;return fn({start:We(t,{locale:this.locale}),end:Ie(t,{locale:this.locale})}).map(n=>this.formatByString(n,"EEEEEE"))},this.getWeekArray=t=>{const n=We(Xe(t),{locale:this.locale}),r=Ie(Ze(t),{locale:this.locale});let d=0,x=n;const o=[];for(;he(x,r);){const v=Math.floor(d/7);o[v]=o[v]||[],o[v].push(x),x=Me(x,1),d+=1}return o},this.getWeekNumber=t=>En(t,{locale:this.locale}),this.getYearRange=(t,n)=>{const r=ye(t),d=Ae(n),x=[];let o=r;for(;he(o,d);)x.push(o),o=Je(o,1);return x}}}const et=[{id:"garden-basic",name:"åŸºæœ¬é€ åœ’å·¥äº‹",description:"ä¸€èˆ¬çš„ãªåº­åœ’å·¥äº‹ã®æ¨™æº–å·¥ç¨‹",tasks:[{name:"ç¾åœ°èª¿æŸ»ãƒ»æ¸¬é‡",duration:1,dependencies:[],category:"survey"},{name:"è¨­è¨ˆãƒ»ãƒ—ãƒ©ãƒ³ä½œæˆ",duration:3,dependencies:[0],category:"design"},{name:"è³‡æèª¿é”ãƒ»ç™ºæ³¨",duration:2,dependencies:[1],category:"procurement"},{name:"æ—¢å­˜æ’¤å»ãƒ»æ•´åœ°",duration:2,dependencies:[2],category:"demolition"},{name:"åŸºç¤å·¥äº‹ãƒ»æ’æ°´",duration:3,dependencies:[3],category:"foundation"},{name:"æ¤æ ½å·¥äº‹",duration:4,dependencies:[4],category:"planting"},{name:"å¤–æ§‹ãƒ»è£…é£¾å·¥äº‹",duration:3,dependencies:[4],category:"decoration"},{name:"ä»•ä¸Šã’ãƒ»æ¸…æƒ",duration:1,dependencies:[5,6],category:"finishing"},{name:"æ¤œæŸ»ãƒ»å¼•ãæ¸¡ã—",duration:1,dependencies:[7],category:"delivery"}]},{id:"maintenance",name:"å®šæœŸãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹",description:"åº­åœ’ã®å®šæœŸãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å·¥ç¨‹",tasks:[{name:"ç¾çŠ¶ç¢ºèªãƒ»è¨ºæ–­",duration:.5,dependencies:[],category:"survey"},{name:"å‰ªå®šãƒ»åˆˆã‚Šè¾¼ã¿",duration:1,dependencies:[0],category:"maintenance"},{name:"é™¤è‰ãƒ»æ–½è‚¥",duration:1,dependencies:[0],category:"maintenance"},{name:"è¨­å‚™ç‚¹æ¤œãƒ»ä¿®ç†",duration:.5,dependencies:[0],category:"maintenance"},{name:"æ¸…æƒãƒ»æ•´ç†",duration:.5,dependencies:[1,2,3],category:"finishing"}]},{id:"large-project",name:"å¤§è¦æ¨¡é€ åœ’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ",description:"å…¬åœ’ãƒ»å¤§å‹æ–½è¨­ç­‰ã®é€ åœ’å·¥äº‹",tasks:[{name:"ä¼ç”»ãƒ»åŸºæœ¬è¨­è¨ˆ",duration:7,dependencies:[],category:"design"},{name:"è©³ç´°è¨­è¨ˆãƒ»å›³é¢ä½œæˆ",duration:14,dependencies:[0],category:"design"},{name:"è¨±å¯ç”³è«‹ãƒ»æ‰¿èª",duration:14,dependencies:[1],category:"legal"},{name:"è³‡æãƒ»é‡æ©Ÿèª¿é”",duration:7,dependencies:[2],category:"procurement"},{name:"ä»®è¨­å·¥äº‹ãƒ»å®‰å…¨å¯¾ç­–",duration:3,dependencies:[3],category:"preparation"},{name:"åœŸå·¥ãƒ»é€ æˆå·¥äº‹",duration:21,dependencies:[4],category:"foundation"},{name:"çµ¦æ’æ°´ãƒ»é›»æ°—å·¥äº‹",duration:14,dependencies:[5],category:"infrastructure"},{name:"æ¤æ ½ãƒ»ç·‘åŒ–å·¥äº‹",duration:28,dependencies:[6],category:"planting"},{name:"å¤–æ§‹ãƒ»æ™¯è¦³å·¥äº‹",duration:21,dependencies:[6],category:"decoration"},{name:"æœ€çµ‚ä»•ä¸Šã’ãƒ»æ¤œæŸ»",duration:7,dependencies:[7,8],category:"finishing"}]}],be={survey:"#2E7D32",design:"#1976D2",procurement:"#F57C00",demolition:"#D32F2F",foundation:"#8D6E63",planting:"#4CAF50",decoration:"#9C27B0",finishing:"#607D8B",delivery:"#689F38",maintenance:"#00ACC1",legal:"#5D4037",preparation:"#FF9800",infrastructure:"#3F51B5"},Zn=({selectedProject:c,onScheduleCreated:p,onScheduleUpdated:j})=>{const[t,n]=h.useState([]),[r,d]=h.useState((c==null?void 0:c.project_id)||null),[x,o]=h.useState(null),[v,g]=h.useState("garden-basic"),[A,M]=h.useState(null),[S,W]=h.useState(!1),[D,P]=h.useState(!1),[U,C]=h.useState(!1),[w,E]=h.useState(null);h.useEffect(()=>{(async()=>{try{C(!0);const m=await fetch("/api/projects");if(m.ok){const y=await m.json();n(y.projects||[])}}catch{E("ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ")}finally{C(!1)}})()},[]),h.useEffect(()=>{r&&ae(r)},[r]);const ae=async i=>{try{C(!0);const m=await fetch(`/api/projects/${i}/schedule`);if(m.ok){const y=await m.json();o(y.schedule)}else m.status===404&&o(null)}catch{E("å·¥ç¨‹è¡¨ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ")}finally{C(!1)}},ee=h.useCallback(()=>{var oe;if(!r)return;const i=et.find(I=>I.id===v);if(!i)return;const m=t.find(I=>I.project_id===r);if(!m)return;const y=new Date,z=i.tasks.map((I,pe)=>{let q=new Date(y);if(I.dependencies.length>0){const ge=Math.max(...I.dependencies.map(N=>{const De=i.tasks[N],J=new Date(y);return J.setDate(J.getDate()+N),J.setDate(J.getDate()+De.duration),J.getTime()}));q=new Date(ge)}else q.setDate(q.getDate()+pe);const ce=new Date(q);return ce.setDate(ce.getDate()+I.duration),{id:pe+1,name:I.name,description:`${I.name}ã®ä½œæ¥­`,start_date:q.toISOString().split("T")[0],end_date:ce.toISOString().split("T")[0],duration:I.duration,progress:0,category:I.category,dependencies:I.dependencies,assigned_to:"",status:"planned",priority:"medium"}}),_={id:Date.now(),project_id:r,name:`${m.name} - ${i.name}`,description:`${i.description}ï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰`,start_date:y.toISOString().split("T")[0],end_date:((oe=z[z.length-1])==null?void 0:oe.end_date)||y.toISOString().split("T")[0],tasks:z,template_id:i.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};o(_),P(!0)},[r,v,t]),ve=async()=>{if(!(!x||!r))try{C(!0);const i=await fetch(`/api/projects/${r}/schedule`,{method:x.id>1e6?"POST":"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(i.ok){const m=await i.json();o(m.schedule),P(!1),x.id>1e6?p==null||p(m.schedule):j==null||j(m.schedule)}}catch{E("å·¥ç¨‹è¡¨ã®ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ")}finally{C(!1)}},Se=i=>{if(!x)return;const m=A?x.tasks.map(y=>y.id===i.id?i:y):[...x.tasks,{...i,id:Date.now()}];o({...x,tasks:m,updated_at:new Date().toISOString()}),W(!1),M(null)},me=i=>{if(!x)return;const m=x.tasks.filter(y=>y.id!==i);o({...x,tasks:m,updated_at:new Date().toISOString()})},k=h.useMemo(()=>{if(!x)return null;const i=x.tasks.map(_=>({..._,startDate:new Date(_.start_date),endDate:new Date(_.end_date),color:be[_.category]||"#757575"})),m=Math.min(...i.map(_=>_.startDate.getTime())),y=Math.max(...i.map(_=>_.endDate.getTime())),z=Math.ceil((y-m)/(1e3*60*60*24));return{tasks:i,minDate:new Date(m),maxDate:new Date(y),totalDays:z}},[x]);return U?e.jsxs(a,{sx:{width:"100%",p:3},children:[e.jsx(xe,{}),e.jsx(s,{sx:{mt:2},children:"èª­ã¿è¾¼ã¿ä¸­..."})]}):e.jsx(sn,{dateAdapter:Xn,children:e.jsxs(a,{sx:{p:3},children:[e.jsxs(a,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[e.jsx(X,{sx:{fontSize:32,color:"#4CAF50"}}),e.jsx(s,{variant:"h4",sx:{color:"#2E7D32",fontWeight:"bold"},children:"å·¥ç¨‹ç®¡ç†ãƒ»å·¥ç¨‹è¡¨ä½œæˆ"})]}),w&&e.jsx(Pe,{severity:"error",sx:{mb:3},children:w}),e.jsx(B,{sx:{mb:3},children:e.jsxs(re,{children:[e.jsxs(s,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ue,{sx:{color:"#4CAF50"}}),"æ¡ˆä»¶é¸æŠ"]}),e.jsxs(u,{container:!0,spacing:3,children:[e.jsx(u,{item:!0,xs:12,md:6,children:e.jsxs(Y,{fullWidth:!0,children:[e.jsx(V,{children:"å·¥äº‹æ¡ˆä»¶ã‚’é¸æŠ"}),e.jsx(G,{value:r||"",onChange:i=>d(Number(i.target.value)),label:"å·¥äº‹æ¡ˆä»¶ã‚’é¸æŠ",children:t.map(i=>e.jsx(b,{value:i.project_id,children:e.jsxs(a,{children:[e.jsx(s,{variant:"body1",children:i.name}),e.jsxs(s,{variant:"caption",color:"textSecondary",children:[i.customer_name," - ",i.status]})]})},i.project_id))})]})}),e.jsx(u,{item:!0,xs:12,md:6,children:e.jsxs(Y,{fullWidth:!0,children:[e.jsx(V,{children:"å·¥ç¨‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ"}),e.jsx(G,{value:v,onChange:i=>g(i.target.value),label:"å·¥ç¨‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ",children:et.map(i=>e.jsx(b,{value:i.id,children:e.jsxs(a,{children:[e.jsx(s,{variant:"body1",children:i.name}),e.jsx(s,{variant:"caption",color:"textSecondary",children:i.description})]})},i.id))})]})})]}),e.jsxs(a,{sx:{mt:2,display:"flex",gap:2},children:[e.jsx(R,{variant:"contained",startIcon:e.jsx(at,{}),onClick:ee,disabled:!r,sx:{bgcolor:"#4CAF50","&:hover":{bgcolor:"#388E3C"}},children:"è‡ªå‹•å·¥ç¨‹è¡¨ç”Ÿæˆ"}),e.jsx(R,{variant:"outlined",startIcon:e.jsx(ot,{}),onClick:()=>{M(null),W(!0)},disabled:!r,children:"å·¥ç¨‹è¿½åŠ "})]})]})}),x&&e.jsxs(e.Fragment,{children:[e.jsx(B,{sx:{mb:3},children:e.jsxs(re,{children:[e.jsxs(a,{sx:{display:"flex",justifyContent:"between",alignItems:"center",mb:2},children:[e.jsxs(s,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ft,{sx:{color:"#4CAF50"}}),x.name]}),e.jsxs(a,{sx:{display:"flex",gap:1},children:[D&&e.jsx(H,{label:"æœªä¿å­˜",color:"warning",size:"small"}),e.jsx(R,{variant:"contained",startIcon:e.jsx(ct,{}),onClick:ve,size:"small",sx:{bgcolor:"#4CAF50","&:hover":{bgcolor:"#388E3C"}},children:"ä¿å­˜"})]})]}),e.jsx(s,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:x.description}),e.jsxs(s,{variant:"body2",children:["æœŸé–“: ",x.start_date," ï½ ",x.end_date,"ï¼ˆå…¨",x.tasks.length,"å·¥ç¨‹ï¼‰"]})]})}),k&&e.jsx(B,{sx:{mb:3},children:e.jsxs(re,{children:[e.jsxs(s,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(X,{sx:{color:"#4CAF50"}}),"è¦–è¦šçš„å·¥ç¨‹è¡¨ï¼ˆã‚¬ãƒ³ãƒˆãƒãƒ£ãƒ¼ãƒˆï¼‰"]}),e.jsx(a,{sx:{overflowX:"auto",mt:2},children:e.jsxs(a,{sx:{minWidth:Math.max(800,k.totalDays*20),height:k.tasks.length*60+100,position:"relative"},children:[e.jsx(a,{sx:{position:"sticky",top:0,bgcolor:"background.paper",zIndex:1,borderBottom:1,borderColor:"divider",pb:1},children:e.jsxs(u,{container:!0,children:[e.jsx(u,{item:!0,xs:3,sx:{p:1},children:e.jsx(s,{variant:"body2",fontWeight:"bold",children:"å·¥ç¨‹å"})}),e.jsx(u,{item:!0,xs:9,children:e.jsx(a,{sx:{display:"flex",height:40},children:Array.from({length:k.totalDays},(i,m)=>{const y=new Date(k.minDate);return y.setDate(y.getDate()+m),e.jsx(a,{sx:{width:20,textAlign:"center",borderRight:1,borderColor:"divider",fontSize:"0.7rem",p:.5},children:y.getDate()},m)})})})]})}),k.tasks.map((i,m)=>{const y=Math.floor((i.startDate.getTime()-k.minDate.getTime())/864e5),z=Math.floor((i.endDate.getTime()-i.startDate.getTime())/(1e3*60*60*24))+1;return e.jsxs(a,{sx:{display:"flex",height:50,alignItems:"center",borderBottom:1,borderColor:"divider","&:hover":{bgcolor:"action.hover"}},children:[e.jsxs(a,{sx:{width:"25%",p:1},children:[e.jsx(s,{variant:"body2",noWrap:!0,children:i.name}),e.jsxs(s,{variant:"caption",color:"textSecondary",children:[i.duration,"æ—¥é–“"]})]}),e.jsx(a,{sx:{width:"75%",position:"relative",height:30},children:e.jsx(a,{sx:{position:"absolute",left:y*20,width:z*20,height:20,bgcolor:i.color,borderRadius:1,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.7rem",opacity:i.status==="completed"?1:.8},children:i.progress>0&&`${i.progress}%`})})]},i.id)})]})})]})}),e.jsx(B,{children:e.jsxs(re,{children:[e.jsxs(s,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(lt,{sx:{color:"#4CAF50"}}),"å·¥ç¨‹ä¸€è¦§"]}),e.jsx(Wt,{component:_e,variant:"outlined",children:e.jsxs(_t,{children:[e.jsx(Lt,{children:e.jsxs(ke,{children:[e.jsx(T,{children:"å·¥ç¨‹å"}),e.jsx(T,{children:"ã‚«ãƒ†ã‚´ãƒª"}),e.jsx(T,{children:"é–‹å§‹æ—¥"}),e.jsx(T,{children:"çµ‚äº†æ—¥"}),e.jsx(T,{children:"æœŸé–“"}),e.jsx(T,{children:"é€²æ—"}),e.jsx(T,{children:"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"}),e.jsx(T,{children:"æ‹…å½“è€…"}),e.jsx(T,{children:"æ“ä½œ"})]})}),e.jsx(Pt,{children:x.tasks.map(i=>e.jsxs(ke,{children:[e.jsxs(T,{children:[e.jsx(s,{variant:"body2",fontWeight:"medium",children:i.name}),i.description&&e.jsx(s,{variant:"caption",color:"textSecondary",children:i.description})]}),e.jsx(T,{children:e.jsx(H,{label:i.category,size:"small",sx:{bgcolor:be[i.category],color:"white",fontSize:"0.7rem"}})}),e.jsx(T,{children:i.start_date}),e.jsx(T,{children:i.end_date}),e.jsxs(T,{children:[i.duration,"æ—¥"]}),e.jsx(T,{children:e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{variant:"determinate",value:i.progress,sx:{width:60,height:6}}),e.jsxs(s,{variant:"caption",children:[i.progress,"%"]})]})}),e.jsx(T,{children:e.jsx(H,{label:i.status,size:"small",color:i.status==="completed"?"success":i.status==="in_progress"?"primary":i.status==="delayed"?"error":"default"})}),e.jsx(T,{children:i.assigned_to||"æœªå‰²ã‚Šå½“ã¦"}),e.jsx(T,{children:e.jsxs(a,{sx:{display:"flex",gap:.5},children:[e.jsx(se,{title:"ç·¨é›†",children:e.jsx($,{size:"small",onClick:()=>{M(i),W(!0)},children:e.jsx(dt,{fontSize:"small"})})}),e.jsx(se,{title:"å‰Šé™¤",children:e.jsx($,{size:"small",onClick:()=>me(i.id),color:"error",children:e.jsx(Ot,{fontSize:"small"})})})]})})]},i.id))})]})})]})})]}),e.jsxs(ht,{open:S,onClose:()=>W(!1),maxWidth:"md",fullWidth:!0,children:[e.jsx(xt,{children:A?"å·¥ç¨‹ç·¨é›†":"å·¥ç¨‹è¿½åŠ "}),e.jsx(ut,{children:e.jsx(er,{task:A,onSave:Se,onCancel:()=>W(!1)})})]})]})})},er=({task:c,onSave:p,onCancel:j})=>{const[t,n]=h.useState({name:(c==null?void 0:c.name)||"",description:(c==null?void 0:c.description)||"",start_date:(c==null?void 0:c.start_date)||new Date().toISOString().split("T")[0],end_date:(c==null?void 0:c.end_date)||new Date().toISOString().split("T")[0],duration:(c==null?void 0:c.duration)||1,progress:(c==null?void 0:c.progress)||0,category:(c==null?void 0:c.category)||"survey",assigned_to:(c==null?void 0:c.assigned_to)||"",status:(c==null?void 0:c.status)||"planned",priority:(c==null?void 0:c.priority)||"medium"}),r=()=>{const d={id:(c==null?void 0:c.id)||Date.now(),name:t.name,description:t.description,start_date:t.start_date,end_date:t.end_date,duration:t.duration,progress:t.progress,category:t.category,dependencies:(c==null?void 0:c.dependencies)||[],assigned_to:t.assigned_to,status:t.status,priority:t.priority};p(d)};return e.jsxs(a,{sx:{pt:2},children:[e.jsxs(u,{container:!0,spacing:3,children:[e.jsx(u,{item:!0,xs:12,children:e.jsx(F,{fullWidth:!0,label:"å·¥ç¨‹å",value:t.name,onChange:d=>n({...t,name:d.target.value}),required:!0})}),e.jsx(u,{item:!0,xs:12,children:e.jsx(F,{fullWidth:!0,label:"èª¬æ˜",multiline:!0,rows:2,value:t.description,onChange:d=>n({...t,description:d.target.value})})}),e.jsx(u,{item:!0,xs:6,children:e.jsx(F,{fullWidth:!0,label:"é–‹å§‹æ—¥",type:"date",value:t.start_date,onChange:d=>n({...t,start_date:d.target.value}),InputLabelProps:{shrink:!0}})}),e.jsx(u,{item:!0,xs:6,children:e.jsx(F,{fullWidth:!0,label:"çµ‚äº†æ—¥",type:"date",value:t.end_date,onChange:d=>n({...t,end_date:d.target.value}),InputLabelProps:{shrink:!0}})}),e.jsx(u,{item:!0,xs:6,children:e.jsx(F,{fullWidth:!0,label:"æœŸé–“ï¼ˆæ—¥æ•°ï¼‰",type:"number",value:t.duration,onChange:d=>n({...t,duration:Number(d.target.value)}),inputProps:{min:.5,step:.5}})}),e.jsx(u,{item:!0,xs:6,children:e.jsx(F,{fullWidth:!0,label:"é€²æ—ï¼ˆ%ï¼‰",type:"number",value:t.progress,onChange:d=>n({...t,progress:Number(d.target.value)}),inputProps:{min:0,max:100}})}),e.jsx(u,{item:!0,xs:6,children:e.jsxs(Y,{fullWidth:!0,children:[e.jsx(V,{children:"ã‚«ãƒ†ã‚´ãƒª"}),e.jsx(G,{value:t.category,onChange:d=>n({...t,category:d.target.value}),label:"ã‚«ãƒ†ã‚´ãƒª",children:Object.keys(be).map(d=>e.jsx(b,{value:d,children:e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(a,{sx:{width:16,height:16,bgcolor:be[d],borderRadius:.5}}),d]})},d))})]})}),e.jsx(u,{item:!0,xs:6,children:e.jsx(F,{fullWidth:!0,label:"æ‹…å½“è€…",value:t.assigned_to,onChange:d=>n({...t,assigned_to:d.target.value})})}),e.jsx(u,{item:!0,xs:6,children:e.jsxs(Y,{fullWidth:!0,children:[e.jsx(V,{children:"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"}),e.jsxs(G,{value:t.status,onChange:d=>n({...t,status:d.target.value}),label:"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹",children:[e.jsx(b,{value:"planned",children:"è¨ˆç”»ä¸­"}),e.jsx(b,{value:"in_progress",children:"é€²è¡Œä¸­"}),e.jsx(b,{value:"completed",children:"å®Œäº†"}),e.jsx(b,{value:"delayed",children:"é…å»¶"}),e.jsx(b,{value:"cancelled",children:"ä¸­æ­¢"})]})]})}),e.jsx(u,{item:!0,xs:6,children:e.jsxs(Y,{fullWidth:!0,children:[e.jsx(V,{children:"å„ªå…ˆåº¦"}),e.jsxs(G,{value:t.priority,onChange:d=>n({...t,priority:d.target.value}),label:"å„ªå…ˆåº¦",children:[e.jsx(b,{value:"low",children:"ä½"}),e.jsx(b,{value:"medium",children:"ä¸­"}),e.jsx(b,{value:"high",children:"é«˜"}),e.jsx(b,{value:"critical",children:"ç·Šæ€¥"})]})]})})]}),e.jsxs(a,{sx:{mt:3,display:"flex",justifyContent:"flex-end",gap:2},children:[e.jsx(R,{onClick:j,children:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«"}),e.jsx(R,{variant:"contained",onClick:r,disabled:!t.name,sx:{bgcolor:"#4CAF50","&:hover":{bgcolor:"#388E3C"}},children:"ä¿å­˜"})]})]})},tr={survey:"#2E7D32",design:"#1976D2",procurement:"#F57C00",demolition:"#D32F2F",foundation:"#8D6E63",planting:"#4CAF50",decoration:"#9C27B0",finishing:"#607D8B",delivery:"#689F38",maintenance:"#00ACC1",legal:"#5D4037",preparation:"#FF9800",infrastructure:"#3F51B5"},tt=[{id:"garden-basic",name:"åŸºæœ¬é€ åœ’å·¥äº‹",description:"åº­åœ’å·¥äº‹(7-14æ—¥)",icon:"ğŸŒ³",estimatedDays:14,tasks:[{name:"ç¾åœ°èª¿æŸ»",duration:1,category:"survey"},{name:"è¨­è¨ˆä½œæˆ",duration:3,category:"design"},{name:"è³‡æèª¿é”",duration:2,category:"procurement"},{name:"æ—¢å­˜æ’¤å»",duration:2,category:"demolition"},{name:"åŸºç¤å·¥äº‹",duration:3,category:"foundation"},{name:"æ¤æ ½å·¥äº‹",duration:4,category:"planting"},{name:"å¤–æ§‹å·¥äº‹",duration:3,category:"decoration"},{name:"ä»•ä¸Šã’",duration:1,category:"finishing"}]},{id:"maintenance",name:"ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹",description:"å®šæœŸç®¡ç†(1-3æ—¥)",icon:"âœ‚ï¸",estimatedDays:3,tasks:[{name:"çŠ¶æ³ç¢ºèª",duration:.5,category:"survey"},{name:"å‰ªå®šä½œæ¥­",duration:1,category:"maintenance"},{name:"é™¤è‰ãƒ»æ–½è‚¥",duration:1,category:"maintenance"},{name:"è¨­å‚™ç‚¹æ¤œ",duration:.5,category:"maintenance"}]},{id:"large-project",name:"å¤§è¦æ¨¡å·¥äº‹",description:"å…¬åœ’ãƒ»æ–½è¨­(1-3ãƒ¶æœˆ)",icon:"ğŸ—ï¸",estimatedDays:90,tasks:[{name:"ä¼ç”»è¨­è¨ˆ",duration:14,category:"design"},{name:"è¨±å¯ç”³è«‹",duration:14,category:"legal"},{name:"è³‡æèª¿é”",duration:7,category:"procurement"},{name:"ä»®è¨­å·¥äº‹",duration:3,category:"preparation"},{name:"é€ æˆå·¥äº‹",duration:21,category:"foundation"},{name:"æ¤æ ½å·¥äº‹",duration:28,category:"planting"},{name:"å¤–æ§‹å·¥äº‹",duration:21,category:"decoration"}]}],nr=({selectedProject:c,onScheduleCreated:p,onScheduleUpdated:j})=>{const t=rt(),n=ie(t.breakpoints.down("md")),r=ie("(max-width:375px)"),[d,x]=h.useState([]),[o,v]=h.useState((c==null?void 0:c.project_id)||null),[g,A]=h.useState(null),[M,S]=h.useState("garden-basic"),[W,D]=h.useState("list"),[P,U]=h.useState(!1),[C,w]=h.useState("all"),[E,ae]=h.useState("all"),[ee,ve]=h.useState(""),[Se,me]=h.useState(null),[k,i]=h.useState(!1),[m,y]=h.useState("project-select"),[z,_]=h.useState(!1),[oe,I]=h.useState(null),[pe,q]=h.useState(0);h.useEffect(()=>{x([{project_id:1,name:"ç”°ä¸­æ§˜é‚¸åº­åœ’ãƒªãƒ•ã‚©ãƒ¼ãƒ ",customer_name:"ç”°ä¸­å¤ªéƒ",status:"active",location:"æ±äº¬éƒ½ä¸–ç”°è°·åŒº"},{project_id:2,name:"å±±ç”°ãƒãƒ³ã‚·ãƒ§ãƒ³æ¤æ ½å·¥äº‹",customer_name:"å±±ç”°å»ºè¨­",status:"planning",location:"ç¥å¥ˆå·çœŒæ¨ªæµœå¸‚"},{project_id:3,name:"â—‹â—‹å…¬åœ’ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹",customer_name:"â—‹â—‹å¸‚å½¹æ‰€",status:"in_progress",location:"åŸ¼ç‰çœŒã•ã„ãŸã¾å¸‚"}])},[]);const ce=h.useCallback(()=>{var O;if(!o)return;const l=tt.find(L=>L.id===M);if(!l)return;const f=d.find(L=>L.project_id===o);if(!f)return;const Q=new Date,K=l.tasks.map((L,Be)=>{const je=new Date(Q);je.setDate(je.getDate()+Be);const Te=new Date(je);return Te.setDate(Te.getDate()+L.duration),{id:Be+1,name:L.name,description:`${L.name}ã®ä½œæ¥­`,start_date:je.toISOString().split("T")[0],end_date:Te.toISOString().split("T")[0],duration:L.duration,progress:0,category:L.category,dependencies:[],assigned_to:"",status:"planned",priority:"medium"}}),we={id:Date.now(),project_id:o,name:`${f.name} - ${l.name}`,description:`${l.description}`,start_date:Q.toISOString().split("T")[0],end_date:((O=K[K.length-1])==null?void 0:O.end_date)||Q.toISOString().split("T")[0],tasks:K,template_id:l.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};A(we),y("schedule-view")},[o,M,d]),ge=h.useMemo(()=>g?g.tasks.filter(l=>{const f=C==="all"||l.status===C,Q=E==="all"||l.category===E,K=ee===""||l.name.toLowerCase().includes(ee.toLowerCase());return f&&Q&&K}):[],[g,C,E,ee]),N=h.useMemo(()=>{if(!g||g.tasks.length===0)return{completed:0,inProgress:0,planned:0,overall:0};const l=g.tasks,f=l.filter(O=>O.status==="completed").length,Q=l.filter(O=>O.status==="in_progress").length,K=l.filter(O=>O.status==="planned").length,we=Math.round(l.reduce((O,L)=>O+L.progress,0)/l.length);return{completed:f,inProgress:Q,planned:K,overall:we}},[g]),De=()=>e.jsx(B,{sx:{mb:2},children:e.jsxs(ze,{expanded:m==="project-select",onChange:()=>y(m==="project-select"?!1:"project-select"),children:[e.jsx(Ne,{expandIcon:e.jsx(Re,{}),children:e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ue,{sx:{color:"#4CAF50"}}),e.jsx(s,{variant:r?"body1":"h6",fontWeight:"bold",children:"æ¡ˆä»¶é¸æŠ"})]})}),e.jsx(He,{children:e.jsxs(u,{container:!0,spacing:2,children:[e.jsx(u,{item:!0,xs:12,children:e.jsxs(Y,{fullWidth:!0,size:"small",children:[e.jsx(V,{children:"å·¥äº‹æ¡ˆä»¶ã‚’é¸æŠ"}),e.jsx(G,{value:o||"",onChange:l=>v(Number(l.target.value)),label:"å·¥äº‹æ¡ˆä»¶ã‚’é¸æŠ",children:d.map(l=>e.jsx(b,{value:l.project_id,children:e.jsxs(a,{children:[e.jsx(s,{variant:"body2",children:l.name}),e.jsxs(s,{variant:"caption",color:"textSecondary",children:[l.customer_name," - ",l.location]})]})},l.project_id))})]})}),e.jsxs(u,{item:!0,xs:12,children:[e.jsx(s,{variant:"subtitle2",gutterBottom:!0,children:"å·¥ç¨‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ"}),e.jsx(u,{container:!0,spacing:1,children:tt.map(l=>e.jsx(u,{item:!0,xs:12,children:e.jsx(B,{sx:{p:1,cursor:"pointer",border:M===l.id?2:1,borderColor:M===l.id?"primary.main":"divider",bgcolor:M===l.id?"primary.50":"background.paper"},onClick:()=>S(l.id),children:e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(s,{sx:{fontSize:"1.2rem"},children:l.icon}),e.jsxs(a,{sx:{flex:1},children:[e.jsx(s,{variant:"body2",fontWeight:"medium",children:l.name}),e.jsx(s,{variant:"caption",color:"textSecondary",children:l.description})]})]})})},l.id))})]}),e.jsx(u,{item:!0,xs:12,children:e.jsx(R,{fullWidth:!0,variant:"contained",startIcon:e.jsx(at,{}),onClick:ce,disabled:!o,sx:{bgcolor:"#4CAF50","&:hover":{bgcolor:"#388E3C"},py:1.5},children:"å·¥ç¨‹è¡¨ã‚’è‡ªå‹•ç”Ÿæˆ"})})]})})]})}),J=()=>g?e.jsx(B,{sx:{mb:2},children:e.jsxs(ze,{expanded:m==="schedule-overview",onChange:()=>y(m==="schedule-overview"?!1:"schedule-overview"),children:[e.jsx(Ne,{expandIcon:e.jsx(Re,{}),children:e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[e.jsx(X,{sx:{color:"#4CAF50"}}),e.jsxs(a,{sx:{flex:1},children:[e.jsx(s,{variant:"body1",fontWeight:"bold",children:g.name}),e.jsxs(s,{variant:"caption",color:"textSecondary",children:["å…¨ä½“é€²æ—: ",N.overall,"%"]})]}),e.jsx(gt,{value:N.overall,size:40})]})}),e.jsx(He,{children:e.jsxs(a,{children:[e.jsx(s,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:g.description}),e.jsxs(u,{container:!0,spacing:1,sx:{mb:2},children:[e.jsxs(u,{item:!0,xs:6,children:[e.jsx(s,{variant:"caption",color:"textSecondary",children:"é–‹å§‹æ—¥"}),e.jsx(s,{variant:"body2",children:g.start_date})]}),e.jsxs(u,{item:!0,xs:6,children:[e.jsx(s,{variant:"caption",color:"textSecondary",children:"å®Œäº†äºˆå®š"}),e.jsx(s,{variant:"body2",children:g.end_date})]})]}),e.jsxs(a,{sx:{mb:2},children:[e.jsx(s,{variant:"caption",color:"textSecondary",children:"é€²æ—çŠ¶æ³"}),e.jsx(xe,{variant:"determinate",value:N.overall,sx:{height:8,borderRadius:4,mb:1}})]}),e.jsxs(u,{container:!0,spacing:1,children:[e.jsx(u,{item:!0,xs:4,children:e.jsxs(a,{sx:{textAlign:"center"},children:[e.jsx(s,{variant:"h6",color:"success.main",children:N.completed}),e.jsx(s,{variant:"caption",children:"å®Œäº†"})]})}),e.jsx(u,{item:!0,xs:4,children:e.jsxs(a,{sx:{textAlign:"center"},children:[e.jsx(s,{variant:"h6",color:"primary.main",children:N.inProgress}),e.jsx(s,{variant:"caption",children:"é€²è¡Œä¸­"})]})}),e.jsx(u,{item:!0,xs:4,children:e.jsxs(a,{sx:{textAlign:"center"},children:[e.jsx(s,{variant:"h6",color:"text.secondary",children:N.planned}),e.jsx(s,{variant:"caption",children:"äºˆå®š"})]})})]})]})})]})}):null,gt=({value:l,size:f=40})=>e.jsxs(a,{sx:{position:"relative",display:"inline-flex",width:f,height:f},children:[e.jsxs("svg",{width:f,height:f,children:[e.jsx("circle",{cx:f/2,cy:f/2,r:(f-4)/2,fill:"none",stroke:"#E0E0E0",strokeWidth:3}),e.jsx("circle",{cx:f/2,cy:f/2,r:(f-4)/2,fill:"none",stroke:"#4CAF50",strokeWidth:3,strokeDasharray:`${l/100*2*Math.PI*((f-4)/2)} ${2*Math.PI*((f-4)/2)}`,strokeDashoffset:0,transform:`rotate(-90 ${f/2} ${f/2})`})]}),e.jsx(a,{sx:{position:"absolute",top:0,left:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs(s,{variant:"caption",fontWeight:"bold",children:[l,"%"]})})]}),jt=()=>e.jsx(B,{children:e.jsxs(re,{sx:{p:1},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1,mb:2,px:1},children:[e.jsx(lt,{sx:{color:"#4CAF50"}}),e.jsx(s,{variant:"subtitle1",fontWeight:"bold",sx:{flex:1},children:"å·¥ç¨‹ä¸€è¦§"}),e.jsx($,{size:"small",onClick:()=>U(!P),children:e.jsx(Nt,{})})]}),e.jsx(Rt,{in:P,children:e.jsxs(a,{sx:{mb:2,px:1},children:[e.jsxs(u,{container:!0,spacing:1,children:[e.jsx(u,{item:!0,xs:6,children:e.jsxs(Y,{fullWidth:!0,size:"small",children:[e.jsx(V,{children:"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"}),e.jsxs(G,{value:C,onChange:l=>w(l.target.value),label:"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹",children:[e.jsx(b,{value:"all",children:"ã™ã¹ã¦"}),e.jsx(b,{value:"planned",children:"äºˆå®š"}),e.jsx(b,{value:"in_progress",children:"é€²è¡Œä¸­"}),e.jsx(b,{value:"completed",children:"å®Œäº†"})]})]})}),e.jsx(u,{item:!0,xs:6,children:e.jsxs(Y,{fullWidth:!0,size:"small",children:[e.jsx(V,{children:"ã‚«ãƒ†ã‚´ãƒª"}),e.jsxs(G,{value:E,onChange:l=>ae(l.target.value),label:"ã‚«ãƒ†ã‚´ãƒª",children:[e.jsx(b,{value:"all",children:"ã™ã¹ã¦"}),e.jsx(b,{value:"survey",children:"èª¿æŸ»"}),e.jsx(b,{value:"design",children:"è¨­è¨ˆ"}),e.jsx(b,{value:"planting",children:"æ¤æ ½"}),e.jsx(b,{value:"decoration",children:"å¤–æ§‹"})]})]})})]}),e.jsx(F,{fullWidth:!0,size:"small",placeholder:"å·¥ç¨‹åã§æ¤œç´¢...",value:ee,onChange:l=>ve(l.target.value),InputProps:{startAdornment:e.jsx(Ht,{sx:{mr:1,color:"action.active"}})},sx:{mt:1}})]})}),e.jsx(pt,{sx:{p:0},children:ge.map((l,f)=>e.jsx(Oe.Fragment,{children:e.jsxs(te,{sx:{border:1,borderColor:"divider",borderRadius:1,mb:1,bgcolor:"background.paper"},children:[e.jsx($t,{children:e.jsx(fe,{sx:{bgcolor:tr[l.category]||"#757575",width:32,height:32},children:l.category==="planting"?"ğŸŒ±":l.category==="design"?"ğŸ“":l.category==="survey"?"ğŸ“":"ğŸ”§"})}),e.jsx(ne,{primary:e.jsx(s,{variant:"body2",fontWeight:"medium",children:l.name}),secondary:e.jsxs(a,{children:[e.jsxs(s,{variant:"caption",color:"textSecondary",children:[l.start_date," - ",l.end_date," (",l.duration,"æ—¥)"]}),e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1,mt:.5},children:[e.jsx(xe,{variant:"determinate",value:l.progress,sx:{flex:1,height:4,borderRadius:2}}),e.jsxs(s,{variant:"caption",children:[l.progress,"%"]})]}),e.jsx(a,{sx:{display:"flex",gap:.5,mt:.5},children:e.jsx(H,{label:l.status==="planned"?"äºˆå®š":l.status==="in_progress"?"é€²è¡Œä¸­":l.status==="completed"?"å®Œäº†":l.status,size:"small",color:l.status==="completed"?"success":l.status==="in_progress"?"primary":"default",sx:{fontSize:"0.7rem",height:20}})})]})}),e.jsx(Yt,{children:e.jsx($,{size:"small",onClick:()=>{me(l),i(!0)},children:e.jsx(dt,{fontSize:"small"})})})]})},l.id))})]})});return e.jsxs(a,{sx:{pb:8},children:[e.jsxs(a,{sx:{p:2,bgcolor:"primary.main",color:"white",mb:2},children:[e.jsxs(s,{variant:"h6",fontWeight:"bold",sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(X,{}),"å·¥ç¨‹ç®¡ç†"]}),e.jsx(s,{variant:"body2",sx:{opacity:.9},children:"é€ åœ’å·¥äº‹ã®å·¥ç¨‹è¡¨ä½œæˆãƒ»é€²æ—ç®¡ç†"})]}),oe&&e.jsx(Pe,{severity:"error",sx:{mx:2,mb:2},children:oe}),z&&e.jsxs(a,{sx:{p:2},children:[e.jsx(xe,{}),e.jsx(s,{sx:{mt:1,textAlign:"center"},children:"èª­ã¿è¾¼ã¿ä¸­..."})]}),e.jsxs(a,{sx:{px:2},children:[e.jsx(De,{}),g&&e.jsx(J,{}),g&&ge.length>0&&e.jsx(jt,{}),!g&&e.jsxs(B,{sx:{p:3,textAlign:"center"},children:[e.jsx(X,{sx:{fontSize:64,color:"action.disabled",mb:2}}),e.jsx(s,{variant:"h6",gutterBottom:!0,children:"å·¥ç¨‹è¡¨ã‚’ä½œæˆã—ã¾ã—ã‚‡ã†"}),e.jsx(s,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:"æ¡ˆä»¶ã‚’é¸æŠã—ã¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰å·¥ç¨‹è¡¨ã‚’è‡ªå‹•ç”Ÿæˆã§ãã¾ã™"})]})]}),g&&e.jsx(Bt,{color:"primary",sx:{position:"fixed",bottom:80,right:16,bgcolor:"#4CAF50","&:hover":{bgcolor:"#388E3C"}},onClick:()=>{me(null),i(!0)},children:e.jsx(ot,{})}),e.jsxs(mt,{value:pe,onChange:(l,f)=>q(f),sx:{position:"fixed",bottom:0,left:0,right:0,borderTop:1,borderColor:"divider"},children:[e.jsx(Z,{label:"ä¸€è¦§",icon:e.jsx(kt,{}),onClick:()=>D("list")}),e.jsx(Z,{label:"ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³",icon:e.jsx(X,{}),onClick:()=>D("timeline")}),e.jsx(Z,{label:"ä¿å­˜",icon:e.jsx(ct,{}),onClick:()=>{console.log("ä¿å­˜:",g)}})]}),e.jsxs(ht,{open:k,onClose:()=>i(!1),fullScreen:n,maxWidth:"sm",fullWidth:!0,children:[e.jsx(xt,{children:Se?"å·¥ç¨‹ç·¨é›†":"å·¥ç¨‹è¿½åŠ "}),e.jsx(ut,{children:e.jsxs(a,{sx:{pt:2},children:[e.jsx(F,{fullWidth:!0,label:"å·¥ç¨‹å",variant:"outlined",size:"small",sx:{mb:2}}),e.jsx(F,{fullWidth:!0,label:"èª¬æ˜",multiline:!0,rows:3,variant:"outlined",size:"small",sx:{mb:2}}),e.jsxs(u,{container:!0,spacing:2,children:[e.jsx(u,{item:!0,xs:6,children:e.jsx(F,{fullWidth:!0,label:"é–‹å§‹æ—¥",type:"date",size:"small",InputLabelProps:{shrink:!0}})}),e.jsx(u,{item:!0,xs:6,children:e.jsx(F,{fullWidth:!0,label:"æœŸé–“ï¼ˆæ—¥ï¼‰",type:"number",size:"small"})})]})]})}),e.jsxs(zt,{children:[e.jsx(R,{onClick:()=>i(!1),children:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«"}),e.jsx(R,{variant:"contained",sx:{bgcolor:"#4CAF50","&:hover":{bgcolor:"#388E3C"}},children:"ä¿å­˜"})]})]})]})},nt=Vt({palette:{primary:{main:"#4CAF50",light:"#81C784",dark:"#2E7D32",contrastText:"#ffffff"},secondary:{main:"#8BC34A",light:"#AED581",dark:"#689F38",contrastText:"#ffffff"},success:{main:"#4CAF50",light:"#81C784",dark:"#2E7D32"},warning:{main:"#FF9800",light:"#FFB74D",dark:"#F57C00"},error:{main:"#F44336",light:"#EF5350",dark:"#C62828"},background:{default:"#F1F8E9",paper:"#FFFFFF"},text:{primary:"#1B5E20",secondary:"#2E7D32"}},typography:{fontFamily:'"Noto Sans JP", "Roboto", "Helvetica", "Arial", sans-serif',h1:{fontWeight:700,color:"#1B5E20"},h2:{fontWeight:600,color:"#1B5E20"},h3:{fontWeight:600,color:"#1B5E20"},h4:{fontWeight:500,color:"#2E7D32"},h5:{fontWeight:500,color:"#2E7D32"},h6:{fontWeight:500,color:"#2E7D32"}},components:{MuiCard:{styleOverrides:{root:{borderRadius:12,boxShadow:"0 4px 12px rgba(46, 125, 50, 0.1)"}}},MuiButton:{styleOverrides:{root:{borderRadius:8,textTransform:"none",fontWeight:500},contained:{boxShadow:"0 4px 12px rgba(76, 175, 80, 0.3)","&:hover":{boxShadow:"0 6px 16px rgba(76, 175, 80, 0.4)"}}}},MuiPaper:{styleOverrides:{root:{borderRadius:12}}}}}),rr=()=>{const[c,p]=h.useState({currentView:"main-menu",user:{name:"å±±ç”°å¤ªéƒ",role:"ä»£è¡¨å–ç· å½¹",company:"ç·‘é¢¨é€ åœ’æ ªå¼ä¼šç¤¾"},notifications:3}),[j,t]=h.useState(null),[n,r]=h.useState(!1),[d,x]=h.useState(""),o=(w,E)=>{p(ae=>({...ae,currentView:w})),x(`${M(w)}ã‚’é–‹ãã¾ã—ãŸ`),r(!0)},v=()=>{p(w=>({...w,currentView:"main-menu"}))},g=w=>{t(w.currentTarget)},A=()=>{t(null)},M=w=>({estimate:"è¦‹ç©æ›¸ä½œæˆ","price-master":"å˜ä¾¡ãƒã‚¹ã‚¿ãƒ¼","project-history":"æ¡ˆä»¶å±¥æ­´",settings:"è¨­å®š","process-management":"å·¥ç¨‹ç®¡ç†"})[w]||"ãƒ¡ãƒ‹ãƒ¥ãƒ¼",S=ie(nt.breakpoints.down("md"));ie("(max-width:375px)");const[W,D]=h.useState(!1),[P,U]=h.useState(0),C=()=>{switch(c.currentView){case"main-menu":return e.jsx(Ue,{onMenuSelect:o,currentUser:c.user});case"process-management":return S?e.jsx(nr,{onScheduleCreated:w=>{x("å·¥ç¨‹è¡¨ãŒä½œæˆã•ã‚Œã¾ã—ãŸ"),r(!0)},onScheduleUpdated:w=>{x("å·¥ç¨‹è¡¨ãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸ"),r(!0)}}):e.jsx(Zn,{onScheduleCreated:w=>{x("å·¥ç¨‹è¡¨ãŒä½œæˆã•ã‚Œã¾ã—ãŸ"),r(!0)},onScheduleUpdated:w=>{x("å·¥ç¨‹è¡¨ãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸ"),r(!0)}});case"estimate":return e.jsxs(a,{sx:{p:3,textAlign:"center"},children:[e.jsx(s,{variant:"h4",gutterBottom:!0,children:"è¦‹ç©æ›¸ä½œæˆã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰"}),e.jsx(s,{variant:"body1",color:"text.secondary",children:"Worker1ã§å®Ÿè£…ä¸­ã®è¦‹ç©æ›¸ä½œæˆã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™"}),e.jsx(R,{variant:"contained",onClick:()=>window.open("/wizard","_blank"),sx:{mt:2},children:"è¦‹ç©ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ã‚’é–‹ã"})]});case"price-master":return e.jsxs(a,{sx:{p:3,textAlign:"center"},children:[e.jsx(s,{variant:"h4",gutterBottom:!0,children:"å˜ä¾¡ãƒã‚¹ã‚¿ãƒ¼ç®¡ç†"}),e.jsx(s,{variant:"body1",color:"text.secondary",children:"Worker5ã§å®Ÿè£…ä¸­ã®å˜ä¾¡ãƒã‚¹ã‚¿ãƒ¼æ©Ÿèƒ½ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™"})]});case"project-history":return e.jsxs(a,{sx:{p:3,textAlign:"center"},children:[e.jsx(s,{variant:"h4",gutterBottom:!0,children:"æ¡ˆä»¶å±¥æ­´ç®¡ç†"}),e.jsx(s,{variant:"body1",color:"text.secondary",children:"Worker3ã§å®Ÿè£…ä¸­ã®æ¡ˆä»¶å±¥æ­´æ©Ÿèƒ½ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™"})]});case"settings":return e.jsxs(a,{sx:{p:3,textAlign:"center"},children:[e.jsx(s,{variant:"h4",gutterBottom:!0,children:"è¨­å®šãƒ»äº‹æ¥­è€…æƒ…å ±ç®¡ç†"}),e.jsx(s,{variant:"body1",color:"text.secondary",children:"Worker4ã§å®Ÿè£…ä¸­ã®è¨­å®šæ©Ÿèƒ½ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™"})]});default:return e.jsx(Ue,{onMenuSelect:o,currentUser:c.user})}};return e.jsxs(Gt,{theme:nt,children:[e.jsx(Ut,{}),e.jsxs(a,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[e.jsx(qt,{position:"static",elevation:2,children:e.jsxs(Jt,{children:[S&&e.jsx($,{color:"inherit",onClick:()=>D(!0),sx:{mr:1},children:e.jsx($e,{})}),e.jsx(ue,{sx:{mr:2,fontSize:S?24:32}}),e.jsx(s,{variant:S?"body1":"h6",component:"div",sx:{flexGrow:1,fontWeight:"bold",fontSize:S?"1rem":void 0},children:S?"Garden":"Garden é€ åœ’æ¥­å‹™ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ "}),!S&&e.jsxs(e.Fragment,{children:[c.currentView!=="main-menu"&&e.jsx(se,{title:"ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹",children:e.jsx($,{color:"inherit",onClick:v,sx:{mr:1},children:e.jsx(Ce,{})})}),e.jsx(se,{title:"é€šçŸ¥",children:e.jsx($,{color:"inherit",sx:{mr:1},children:e.jsx(st,{badgeContent:c.notifications,color:"error",children:e.jsx(Qt,{})})})}),e.jsx(se,{title:"ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼",children:e.jsx($,{color:"inherit",onClick:g,sx:{ml:1},children:e.jsx(fe,{sx:{width:32,height:32,bgcolor:"secondary.main",fontSize:"0.9rem"},children:c.user.name.charAt(0)})})})]}),S&&e.jsx(fe,{sx:{width:28,height:28,bgcolor:"secondary.main",fontSize:"0.8rem"},children:c.user.name.charAt(0)}),e.jsxs(Kt,{anchorEl:j,open:!!j,onClose:A,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[e.jsxs(b,{onClick:A,children:[e.jsx(Ye,{sx:{mr:1}}),"ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«"]}),e.jsxs(b,{onClick:A,children:[e.jsx(Ve,{sx:{mr:1}}),"ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ"]})]})]})}),!S&&c.currentView!=="main-menu"&&e.jsx(a,{sx:{bgcolor:"background.paper",borderBottom:1,borderColor:"divider",px:3,py:1},children:e.jsx(s,{variant:"h6",color:"primary.main",children:M(c.currentView)})}),e.jsx(a,{sx:{flex:1,bgcolor:"background.default",pb:S?7:0},children:C()}),e.jsxs(Xt,{anchor:"left",open:W,onClose:()=>D(!1),PaperProps:{sx:{width:280}},children:[e.jsxs(a,{sx:{p:2},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[e.jsx(fe,{sx:{width:40,height:40,bgcolor:"primary.main"},children:c.user.name.charAt(0)}),e.jsxs(a,{children:[e.jsx(s,{variant:"body1",fontWeight:"bold",children:c.user.name}),e.jsx(s,{variant:"caption",color:"textSecondary",children:c.user.role})]})]}),e.jsx(Zt,{sx:{mb:2}})]}),e.jsxs(pt,{children:[e.jsxs(te,{button:!0,onClick:()=>{v(),D(!1)},children:[e.jsx(de,{children:e.jsx(Ce,{})}),e.jsx(ne,{primary:"ãƒ›ãƒ¼ãƒ "})]}),e.jsxs(te,{button:!0,onClick:()=>{o("estimate"),D(!1)},children:[e.jsx(de,{children:e.jsx(ue,{})}),e.jsx(ne,{primary:"è¦‹ç©æ›¸ä½œæˆ"})]}),e.jsxs(te,{button:!0,onClick:()=>{o("process-management"),D(!1)},children:[e.jsx(de,{children:e.jsx(TimelineIcon,{})}),e.jsx(ne,{primary:"å·¥ç¨‹ç®¡ç†"})]}),e.jsxs(te,{button:!0,onClick:()=>{o("price-master"),D(!1)},children:[e.jsx(de,{children:e.jsx(Ye,{})}),e.jsx(ne,{primary:"å˜ä¾¡ãƒã‚¹ã‚¿ãƒ¼"})]}),e.jsxs(te,{button:!0,onClick:()=>{o("settings"),D(!1)},children:[e.jsx(de,{children:e.jsx(Ve,{})}),e.jsx(ne,{primary:"è¨­å®š"})]})]})]}),e.jsx(a,{component:"footer",sx:{bgcolor:"primary.dark",color:"white",py:2,px:3,textAlign:"center"},children:e.jsxs(s,{variant:"body2",children:["Â© 2025 ",c.user.company," - Garden é€ åœ’æ¥­å‹™ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ "]})}),S&&e.jsxs(mt,{value:P,onChange:(w,E)=>{switch(U(E),E){case 0:v();break;case 1:o("estimate");break;case 2:o("process-management");break;case 3:D(!0);break}},sx:{position:"fixed",bottom:0,left:0,right:0,borderTop:1,borderColor:"divider",bgcolor:"background.paper"},children:[e.jsx(Z,{label:"ãƒ›ãƒ¼ãƒ ",icon:e.jsx(Ce,{})}),e.jsx(Z,{label:"è¦‹ç©",icon:e.jsx(CalendarIcon,{})}),e.jsx(Z,{label:"å·¥ç¨‹",icon:e.jsx(TimelineIcon,{})}),e.jsx(Z,{label:"ãƒ¡ãƒ‹ãƒ¥ãƒ¼",icon:e.jsx($e,{})})]}),e.jsx(en,{open:n,autoHideDuration:3e3,onClose:()=>r(!1),anchorOrigin:{vertical:S?"top":"bottom",horizontal:S?"center":"right"},sx:{mt:S?8:0,mb:S?8:0},children:e.jsx(Pe,{onClose:()=>r(!1),severity:"success",sx:{width:"100%"},children:d})})]})]})};class sr extends Oe.Component{constructor(p){super(p),this.state={hasError:!1}}static getDerivedStateFromError(p){return{hasError:!0,error:p}}componentDidCatch(p,j){console.error("Garden System Error:",p,j)}render(){return this.state.hasError?e.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",padding:"20px",backgroundColor:"#F1F8E9",color:"#2E7D32",fontFamily:'"Noto Sans JP", sans-serif'},children:[e.jsx("div",{style:{fontSize:"3rem",marginBottom:"20px"},children:"ğŸŒ³"}),e.jsx("h2",{children:"Garden ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼"}),e.jsx("p",{children:"ç”³ã—è¨³ã”ã–ã„ã¾ã›ã‚“ãŒã€ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚"}),e.jsx("p",{style:{fontSize:"0.9rem",color:"#666",marginTop:"20px"},children:"ãƒ–ãƒ©ã‚¦ã‚¶ã‚’å†èª­ã¿è¾¼ã¿ã—ã¦å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚"}),e.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem"},children:"å†èª­ã¿è¾¼ã¿"})]}):this.props.children}}const ir=Le.createRoot(document.getElementById("root"));ir.render(e.jsx(Oe.StrictMode,{children:e.jsx(sr,{children:e.jsx(rr,{})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(c=>{console.log("SW registered: ",c)}).catch(c=>{console.log("SW registration failed: ",c)})});
//# sourceMappingURL=index-DVuXatOc.js.map

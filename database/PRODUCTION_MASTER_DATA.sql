-- =================================================================
-- 庭想システム - 本番用マスターデータ
-- =================================================================
-- このスクリプトで実際の業務に使用する単価マスターと初期データを投入します

-- 前提条件：
-- 1. 管理者ユーザーが作成済み（admin@teisou.com）
-- 2. 会社データが作成済み（id: 550e8400-e29b-41d4-a716-446655440000）

-- =================================================================
-- 単価マスターデータ（実務で使用する標準的な項目）
-- =================================================================

-- 植栽工事 - 高木
INSERT INTO price_master (company_id, category, sub_category, item_name, unit, purchase_price, default_markup_rate) VALUES
('550e8400-e29b-41d4-a716-446655440000', '植栽工事', '高木', 'ソメイヨシノ H3.0m', '本', 15000, 1.8),
('550e8400-e29b-41d4-a716-446655440000', '植栽工事', '高木', 'ソメイヨシノ H4.0m', '本', 25000, 1.8),
('550e8400-e29b-41d4-a716-446655440000', '植栽工事', '高木', 'ヤマボウシ H3.0m', '本', 18000, 1.8),
('550e8400-e29b-41d4-a716-446655440000', '植栽工事', '高木', 'ハナミズキ H3.0m', '本', 20000, 1.8),
('550e8400-e29b-41d4-a716-446655440000', '植栽工事', '高木', 'モミジ H2.5m', '本', 22000, 1.8),
('550e8400-e29b-41d4-a716-446655440000', '植栽工事', '高木', 'シラカシ H3.0m', '本', 12000, 1.8),
('550e8400-e29b-41d4-a716-446655440000', '植栽工事', '高木', 'クロマツ H3.0m', '本', 35000, 1.8);

-- 植栽工事 - 中木
INSERT INTO price_master (company_id, category, sub_category, item_name, unit, purchase_price, default_markup_rate) VALUES
('550e8400-e29b-41d4-a716-446655440000', '植栽工事', '中木', 'ドウダンツツジ H1.5m', '本', 4500, 1.8),
('550e8400-e29b-41d4-a716-446655440000', '植栽工事', '中木', 'サザンカ H1.5m', '本', 3500, 1.8),
('550e8400-e29b-41d4-a716-446655440000', '植栽工事', '中木', 'キンモクセイ H1.5m', '本', 5000, 1.8),
('550e8400-e29b-41d4-a716-446655440000', '植栽工事', '中木', 'ツバキ H1.5m', '本', 4000, 1.8);

-- 植栽工事 - 低木
INSERT INTO price_master (company_id, category, sub_category, item_name, unit, purchase_price, default_markup_rate) VALUES
('550e8400-e29b-41d4-a716-446655440000', '植栽工事', '低木', 'ツツジ H0.5m', '本', 800, 1.8),
('550e8400-e29b-41d4-a716-446655440000', '植栽工事', '低木', 'アベリア H0.6m', '本', 600, 1.8),
('550e8400-e29b-41d4-a716-446655440000', '植栽工事', '低木', 'オタフクナンテン H0.3m', '本', 400, 1.8),
('550e8400-e29b-41d4-a716-446655440000', '植栽工事', '低木', 'ヒイラギ H0.5m', '本', 900, 1.8);

-- 植栽工事 - 地被類
INSERT INTO price_master (company_id, category, sub_category, item_name, unit, purchase_price, default_markup_rate) VALUES
('550e8400-e29b-41d4-a716-446655440000', '植栽工事', '地被類', 'タマリュウ', 'm2', 1800, 1.8),
('550e8400-e29b-41d4-a716-446655440000', '植栽工事', '地被類', 'ヘデラ', '本', 250, 1.8),
('550e8400-e29b-41d4-a716-446655440000', '植栽工事', '地被類', 'フッキソウ', '本', 300, 1.8),
('550e8400-e29b-41d4-a716-446655440000', '植栽工事', '地被類', '芝生（高麗芝）', 'm2', 800, 1.8);

-- 外構工事 - 舗装
INSERT INTO price_master (company_id, category, sub_category, item_name, unit, purchase_price, default_markup_rate) VALUES
('550e8400-e29b-41d4-a716-446655440000', '外構工事', '舗装', 'インターロッキング（一般）', 'm2', 3500, 1.5),
('550e8400-e29b-41d4-a716-446655440000', '外構工事', '舗装', 'インターロッキング（高級）', 'm2', 5500, 1.5),
('550e8400-e29b-41d4-a716-446655440000', '外構工事', '舗装', 'コンクリート平板 30×30', '枚', 450, 1.5),
('550e8400-e29b-41d4-a716-446655440000', '外構工事', '舗装', '洗い出し仕上げ', 'm2', 4500, 1.5),
('550e8400-e29b-41d4-a716-446655440000', '外構工事', '舗装', '真砂土舗装', 'm2', 1200, 1.5);

-- 外構工事 - 擁壁・土留め
INSERT INTO price_master (company_id, category, sub_category, item_name, unit, purchase_price, default_markup_rate) VALUES
('550e8400-e29b-41d4-a716-446655440000', '外構工事', '擁壁・土留め', 'コンクリートブロック積み', 'm2', 8500, 1.5),
('550e8400-e29b-41d4-a716-446655440000', '外構工事', '擁壁・土留め', '間知ブロック積み', 'm2', 12000, 1.5),
('550e8400-e29b-41d4-a716-446655440000', '外構工事', '擁壁・土留め', 'L型擁壁 H1.0m', 'm', 18000, 1.5);

-- 外構工事 - フェンス・門扉
INSERT INTO price_master (company_id, category, sub_category, item_name, unit, purchase_price, default_markup_rate) VALUES
('550e8400-e29b-41d4-a716-446655440000', '外構工事', 'フェンス・門扉', 'メッシュフェンス H1.2m', 'm', 4500, 1.5),
('550e8400-e29b-41d4-a716-446655440000', '外構工事', 'フェンス・門扉', 'アルミフェンス H0.8m', 'm', 8500, 1.5),
('550e8400-e29b-41d4-a716-446655440000', '外構工事', 'フェンス・門扉', '片開き門扉 W0.9m', '基', 35000, 1.5),
('550e8400-e29b-41d4-a716-446655440000', '外構工事', 'フェンス・門扉', '両開き門扉 W3.0m', '基', 85000, 1.5);

-- 外構工事 - カーポート・物置
INSERT INTO price_master (company_id, category, sub_category, item_name, unit, purchase_price, default_markup_rate) VALUES
('550e8400-e29b-41d4-a716-446655440000', '外構工事', 'カーポート・物置', 'カーポート 1台用（標準）', '基', 120000, 1.4),
('550e8400-e29b-41d4-a716-446655440000', '外構工事', 'カーポート・物置', 'カーポート 2台用（標準）', '基', 220000, 1.4),
('550e8400-e29b-41d4-a716-446655440000', '外構工事', 'カーポート・物置', '物置 1坪タイプ', '基', 45000, 1.4);

-- 造園工事 - 石材
INSERT INTO price_master (company_id, category, sub_category, item_name, unit, purchase_price, default_markup_rate) VALUES
('550e8400-e29b-41d4-a716-446655440000', '造園工事', '石材', '景石（1t未満）', '個', 25000, 1.6),
('550e8400-e29b-41d4-a716-446655440000', '造園工事', '石材', '景石（1-2t）', '個', 45000, 1.6),
('550e8400-e29b-41d4-a716-446655440000', '造園工事', '石材', '飛び石（30cm程度）', '個', 3500, 1.6),
('550e8400-e29b-41d4-a716-446655440000', '造園工事', '石材', '延段（自然石）', 'm', 8500, 1.6),
('550e8400-e29b-41d4-a716-446655440000', '造園工事', '石材', '砂利敷き（白川砂利）', 'm2', 3500, 1.6);

-- 造園工事 - 竹垣・袖垣
INSERT INTO price_master (company_id, category, sub_category, item_name, unit, purchase_price, default_markup_rate) VALUES
('550e8400-e29b-41d4-a716-446655440000', '造園工事', '竹垣・袖垣', '四つ目垣 H1.2m', 'm', 12000, 1.6),
('550e8400-e29b-41d4-a716-446655440000', '造園工事', '竹垣・袖垣', '建仁寺垣 H1.8m', 'm', 18000, 1.6),
('550e8400-e29b-41d4-a716-446655440000', '造園工事', '竹垣・袖垣', 'エコ竹垣 H1.5m', 'm', 8500, 1.6);

-- 造園工事 - 水景
INSERT INTO price_master (company_id, category, sub_category, item_name, unit, purchase_price, default_markup_rate) VALUES
('550e8400-e29b-41d4-a716-446655440000', '造園工事', '水景', 'つくばい（一式）', '基', 85000, 1.6),
('550e8400-e29b-41d4-a716-446655440000', '造園工事', '水景', '池防水工事', 'm2', 12000, 1.6),
('550e8400-e29b-41d4-a716-446655440000', '造園工事', '水景', '循環ポンプ設置', '基', 35000, 1.6);

-- 付帯工事 - 土工
INSERT INTO price_master (company_id, category, sub_category, item_name, unit, purchase_price, default_markup_rate) VALUES
('550e8400-e29b-41d4-a716-446655440000', '付帯工事', '土工', '機械掘削', 'm3', 1800, 1.3),
('550e8400-e29b-41d4-a716-446655440000', '付帯工事', '土工', '人力掘削', 'm3', 4500, 1.3),
('550e8400-e29b-41d4-a716-446655440000', '付帯工事', '土工', '残土処分', 'm3', 3500, 1.3),
('550e8400-e29b-41d4-a716-446655440000', '付帯工事', '土工', '客土（黒土）', 'm3', 4500, 1.3);

-- 付帯工事 - 養生・片付け
INSERT INTO price_master (company_id, category, sub_category, item_name, unit, purchase_price, default_markup_rate) VALUES
('550e8400-e29b-41d4-a716-446655440000', '付帯工事', '養生・片付け', '養生費', '式', 15000, 1.2),
('550e8400-e29b-41d4-a716-446655440000', '付帯工事', '養生・片付け', '清掃片付け費', '式', 20000, 1.2),
('550e8400-e29b-41d4-a716-446655440000', '付帯工事', '養生・片付け', '産廃処分費', '式', 30000, 1.2);

-- メンテナンス
INSERT INTO price_master (company_id, category, sub_category, item_name, unit, purchase_price, default_markup_rate) VALUES
('550e8400-e29b-41d4-a716-446655440000', 'メンテナンス', '剪定作業', '高木剪定（3-5m）', '本', 8000, 2.0),
('550e8400-e29b-41d4-a716-446655440000', 'メンテナンス', '剪定作業', '中木剪定（1.5-3m）', '本', 3500, 2.0),
('550e8400-e29b-41d4-a716-446655440000', 'メンテナンス', '剪定作業', '生垣剪定', 'm', 1500, 2.0),
('550e8400-e29b-41d4-a716-446655440000', 'メンテナンス', '除草・清掃', '除草作業', 'm2', 150, 2.0),
('550e8400-e29b-41d4-a716-446655440000', 'メンテナンス', '除草・清掃', '芝刈り', 'm2', 100, 2.0),
('550e8400-e29b-41d4-a716-446655440000', 'メンテナンス', '薬剤散布', '病害虫防除', '回', 15000, 2.0);

-- =================================================================
-- サンプル顧客データ（テスト用）
-- =================================================================
INSERT INTO customers (company_id, name, company_name, address, phone, email) VALUES
('550e8400-e29b-41d4-a716-446655440000', 'テスト顧客A', 'テスト邸A', '東京都新宿区1-1-1', '090-0000-0001', 'test-a@example.com'),
('550e8400-e29b-41d4-a716-446655440000', 'テスト顧客B', 'テスト邸B', '東京都渋谷区2-2-2', '090-0000-0002', 'test-b@example.com');

-- =================================================================
-- 完了メッセージ
-- =================================================================
SELECT '✅ マスターデータ投入完了' as status;
SELECT '📊 投入データ数' as info;
SELECT 
    '単価マスター: ' || COUNT(*) || '件' as data_count 
FROM price_master 
WHERE company_id = '550e8400-e29b-41d4-a716-446655440000';

SELECT 
    '顧客データ: ' || COUNT(*) || '件' as data_count 
FROM customers 
WHERE company_id = '550e8400-e29b-41d4-a716-446655440000';

-- =================================================================
-- 使用方法：
-- 1. Supabase SQL Editorでこのスクリプトを実行
-- 2. 本番環境でログイン（admin@teisou.com）
-- 3. 見積作成機能で単価マスターからアイテムを選択可能
-- =================================================================